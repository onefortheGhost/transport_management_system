{% load static %}

<div class="container mt-3">
    <h2>Vehicle Management</h2>
    <div id="vehicle-area">
        <!-- Vehicle data will be loaded here -->
    </div>
</div>

<!-- Bootstrap and other libraries, if not globally included -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- AJAX script to load vehicles -->
<script>
$(document).ready(function() {
    $.ajax({
        url: '/api/v1/vehicles/',  // This URL should point to your API endpoint for vehicles
        type: 'GET',
        success: function(data) {
            var vehicleArea = $('#vehicle-area');
            data.forEach(function(vehicle) {
                vehicleArea.append(`
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">${vehicle.make} ${vehicle.model}</h5>
                            <p class="card-text">Year: ${vehicle.year}</p>
                        </div>
                    </div>
                `);
            });
        },
        error: function(error) {
            console.error('Failed to fetch vehicles:', error);
        }
    });
});
</script>
